<mvc:View
  controllerName="fbtool.controller.FB360"
  xmlns:mvc="sap.ui.core.mvc"
  xmlns="sap.m"
  xmlns:core="sap.ui.core"
  displayBlock="true">

  <Page title="360 Feedback Page">
    <headerContent>
      <Button icon="sap-icon://nav-back" text="Exit" press="onExit"/>
    </headerContent>

    <content>
      <HBox justifyContent="Center" alignItems="Center" class="sapUiMediumMarginTop">
        <VBox class="feedbackCard sapUiMediumMargin" width="500px">
          <Title text="Send Feedback 360" level="H3" class="sapUiSmallMarginBottom"/>

          <!-- User: afișează doar NAME; key = USER_ID -->
          <Label text="User" labelFor="userCombo"/>
          <ComboBox
            id="userCombo"
            width="100%"
            placeholder="Type to search user"
            showClearIcon="true"
            items="{
              path: 'mainService>/UserSet',
              parameters: { $select: 'USER_ID,NAME' }
            }">
            <core:Item key="{mainService>USER_ID}" text="{mainService>NAME}" />
          </ComboBox>

          <!-- Project: filtrat automat după USER_ID selectat; cu X + type-ahead -->
          <Label text="Project" labelFor="projectCombo"/>
          <ComboBox
            id="projectCombo"
            width="100%"
            placeholder="Type to search project"
            showClearIcon="true"
            class="sapUiSmallMarginBottom"
            items="{
              path: 'mainService>/User_ProjectsSet',
              parameters: { $select: 'USER_ID,PROJ_ID,PROJ_NAME' }
            }">
            <core:Item key="{mainService>PROJ_ID}" text="{mainService>PROJ_NAME}" />
          </ComboBox>

          <Label text="Feedback type" labelFor="typeCombo"/>
          <ComboBox id="typeCombo" width="100%" class="sapUiSmallMarginBottom">
            <core:Item key="tech" text="Technical Skills"/>
            <core:Item key="soft" text="Soft Skills"/>
            <core:Item key="other" text="Other Skills"/>
          </ComboBox>

          <Label text="Feedback" labelFor="feedbackText"/>
          <TextArea id="feedbackText" placeholder="Write your feedback here..." rows="5" width="100%" class="sapUiSmallMarginBottom"/>

          <Button icon="sap-icon://paper-plane" text="Send Feedback 360" press="onSendFeedback" class="feedbackButton"/>
        </VBox>
      </HBox>
    </content>
  </Page>
</mvc:View>
