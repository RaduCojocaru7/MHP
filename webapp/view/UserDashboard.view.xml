<mvc:View
  controllerName="fbtool.controller.UserDashboard"
  xmlns:mvc="sap.ui.core.mvc"
  xmlns="sap.m"
  xmlns:f="sap.f"
  displayBlock="true">

  <Page title="User Dashboard">
    <headerContent>
      <Button
        id="logoutButton"
        icon="sap-icon://log"
        text="Log Out"
        press="onLogout"
        type="Transparent"
        class="pureBlueBtn"/>
    </headerContent>

    <content>

      <!-- Card user info -->
      <VBox class="sapUiMediumMargin">
        <VBox class="sapUiSmallMargin sapUiContentPadding userCard">

          <!-- Info utilizator pe două coloane -->
          <HBox justifyContent="SpaceBetween" alignItems="Start" class="sapUiTinyMarginBottom">

            <!-- Stânga: avatar, nume, email -->
            <HBox alignItems="Center">
              <Avatar displaySize="L" src="sap-icon://employee" class="sapUiTinyMarginEnd"/>
              <VBox>
                <HBox alignItems="Center">
                  <Text text="{= ${user>/fullName} ? ${user>/fullName}.toUpperCase() : '' }" class="userNameCaps sapUiSmallMarginEnd"/>
                  <Button
                    text="Profile Info"
                    icon="sap-icon://hint"
                    type="Transparent"
                    press="onProfileInfoPress"
                    class="profileInfoBtn subtleBtn sapUiTinyMarginBottom"/>
                </HBox>
                <Text text="{= 'Email: ' + (${user>/email} || '') }" class="sapUiTinyMarginTop sapUiSmallFont"/>
              </VBox>
            </HBox>

            <!-- Dreapta: Profile Info + info user -->
            <VBox alignItems="End" class="sapUiTinyMarginBegin">
              <Text text="Career Level: {user>/careerLevel}" class="sapUiTinyMarginBottom sapUiSmallFont"/>
              <Text text="Service Unit: {user>/serviceUnit}" class="sapUiTinyMarginBottom sapUiSmallFont"/>
            </VBox>
          </HBox>

        </VBox>
      </VBox>

      <!-- Navigation Buttons Grid Layout -->
      <VBox class="sapUiMediumMargin">
        <!-- First Row -->
        <HBox justifyContent="Start" wrap="NoWrap" 
              class="sapUiMediumMarginBottom">
          
          <Button
            icon="sap-icon://document"
            text="360FB"
            press="onNavigateTo360FB"
            class="sapUiMediumMarginEnd navRect"
            width="18rem" iconFirst="true" />

          <Button
            icon="sap-icon://list"
            text="Feedback List"
            press="onNavFeedbackList"
            class="navRect"
            width="18rem" iconFirst="true" />
        </HBox>

        <!-- Second Row -->
        <HBox justifyContent="Start" wrap="NoWrap">
          
          <Button
            icon="sap-icon://business-card"
            text="PEG Request"
            press="onNavigateToPEG"
            class="sapUiMediumMarginEnd navRect"
            width="18rem" iconFirst="true" />

          <Button
            icon="sap-icon://permission"
            text="PEG List"
            press="onNavigateToPEGList"
            class="navRect"
            width="18rem" iconFirst="true" />
        </HBox>
      </VBox>

    </content>
  </Page>
</mvc:View>